[gd_scene load_steps=32 format=3 uid="uid://dk066mi38cvh7"]

[ext_resource type="Script" path="res://_Scripts/Minigame_Save_Controller.gd" id="1_th4gl"]
[ext_resource type="Script" path="res://_Scripts/StateMachineMinigames/StateMachineMinigames.gd" id="2_fl1ab"]
[ext_resource type="Script" path="res://_Scripts/StateMachineMinigames/ConsignaState.gd" id="3_3a6v3"]
[ext_resource type="Script" path="res://_Scripts/StateMachineMinigames/Button_Change_StateMinigame.gd" id="4_1n0vc"]
[ext_resource type="Script" path="res://_Scripts/StateMachineMinigames/JuegoState.gd" id="5_wjedw"]
[ext_resource type="Texture2D" uid="uid://nuybqhitpej1" path="res://Sprites/Mapa/fondo_mapa.png" id="6_iavf7"]
[ext_resource type="Script" path="res://_Scripts/StateMachineMinigames/MoralejaState.gd" id="6_yvrem"]
[ext_resource type="Script" path="res://_Scripts/MinG_Astronauta/NaveController.gd" id="7_acnt4"]
[ext_resource type="PackedScene" uid="uid://dtbscg5vj1osr" path="res://Scenes/Zona_Astronomia/astronautaController.tscn" id="7_jv4gs"]
[ext_resource type="PackedScene" uid="uid://djhg7jvxtexyl" path="res://Scenes/UI_Scenes/btn_Change_Scene.tscn" id="7_xf3bk"]
[ext_resource type="Script" path="res://_Scripts/StateMachineMinigames/FinState.gd" id="8_82fk8"]
[ext_resource type="Script" path="res://_Scripts/MinG_Astronauta/CamControllerAstronauta.gd" id="8_dafos"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="8_eyv1l"]
[ext_resource type="Texture2D" uid="uid://bs61ipoo6jueu" path="res://Sprites/ZonaAstronomia/NaveInterior.png" id="8_w48x6"]
[ext_resource type="Texture2D" uid="uid://puccpmbqwi4c" path="res://Sprites/ZonaAstronomia/NaveExterior.png" id="9_7dd1c"]
[ext_resource type="Texture2D" uid="uid://drrio0noaq2fi" path="res://Sprites/ZonaGeología/piedra-PhotoRoom.png-PhotoRoom.png" id="9_88pnb"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_2D.gd" id="10_ex8uo"]
[ext_resource type="Script" path="res://_Scripts/CapsulaController.gd" id="10_fm36a"]
[ext_resource type="Texture2D" uid="uid://chqivoetkgkoj" path="res://Sprites/UI/circulo.png" id="10_s0cgv"]
[ext_resource type="Script" path="res://_Scripts/MinG_Astronauta/RotateArround.gd" id="11_712vn"]
[ext_resource type="Texture2D" uid="uid://do80na5f1l4ly" path="res://Sprites/ZonaAstronomia/capsula.png" id="11_fl6hj"]
[ext_resource type="PackedScene" uid="uid://dsjra6y4xe8g7" path="res://Scenes/Experiments/pick_up_object.tscn" id="11_i2vqs"]
[ext_resource type="PackedScene" uid="uid://bhvn7rj6jhh2" path="res://Scenes/Zona_Astronomia/collision_object.tscn" id="11_nklpy"]
[ext_resource type="Texture2D" uid="uid://b7poe0ethot51" path="res://Sprites/ZonaGeología/Piedras/flurita_dureza.png" id="14_gaug6"]
[ext_resource type="Texture2D" uid="uid://bjdjhfvi3gkdk" path="res://Sprites/ZonaAstronomia/Screenshot_1.png" id="20_5amnt"]
[ext_resource type="Theme" uid="uid://bokxu7jbpku04" path="res://Themes/Back_UI.tres" id="21_7epdq"]
[ext_resource type="Texture2D" uid="uid://b2op8eppn0juv" path="res://Sprites/ZonaAstronomia/Astronauta.png" id="23_p54qi"]

[sub_resource type="CircleShape2D" id="CircleShape2D_2javv"]
radius = 209.476

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_flhw3"]
light_mode = 1

[sub_resource type="RectangleShape2D" id="RectangleShape2D_48pma"]
size = Vector2(544, 20)

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_h2n3c"]
light_mode = 1

[node name="Astronauta" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Astronauta" type="Node" parent="."]
script = ExtResource("1_th4gl")

[node name="Control" type="Control" parent="Astronauta"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Background" type="ColorRect" parent="Astronauta/Control"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.72549, 1, 1, 1)

[node name="StateMachine" type="Node" parent="Astronauta" node_paths=PackedStringArray("initial_state")]
script = ExtResource("2_fl1ab")
initial_state = NodePath("Consigna")

[node name="Consigna" type="Node" parent="Astronauta/StateMachine"]
script = ExtResource("3_3a6v3")
Consignas = ["Volá por el espacio wiiiiiiiiiiiii"]

[node name="Contenido" type="Control" parent="Astronauta/StateMachine/Consigna"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="LblConsigna" type="Label" parent="Astronauta/StateMachine/Consigna/Contenido"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -270.0
offset_top = -444.0
offset_right = 294.0
offset_bottom = 445.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 40
text = "Consigna genérica Consigna genérica Consigna genérica"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="Button" type="Button" parent="Astronauta/StateMachine/Consigna/Contenido" node_paths=PackedStringArray("state_to_change", "state_machine")]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -201.0
offset_top = -197.0
offset_right = 202.0
offset_bottom = -67.0
grow_horizontal = 2
grow_vertical = 0
text = "Siguiente
"
script = ExtResource("4_1n0vc")
state_to_change = NodePath("../../../Juego")
state_machine = NodePath("../../..")

[node name="Juego" type="Node" parent="Astronauta/StateMachine" node_paths=PackedStringArray("NextState", "StateMachine")]
script = ExtResource("5_wjedw")
NextState = NodePath(".")
StateMachine = NodePath("..")
InstanciasMinijuego = [NodePath("Contenido/Instancia1")]

[node name="Contenido" type="Control" parent="Astronauta/StateMachine/Juego"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Instancia1" type="Control" parent="Astronauta/StateMachine/Juego/Contenido"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="level" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1"]

[node name="TextureRect" type="TextureRect" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level"]
offset_left = -8134.0
offset_top = -3144.0
offset_right = 5554.0
offset_bottom = 8580.0
size_flags_horizontal = 4
texture = ExtResource("6_iavf7")
stretch_mode = 1

[node name="FondoReference" type="Polygon2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level"]
color = Color(1, 1, 1, 0)
polygon = PackedVector2Array(-1440, -2560, 3600, -2560, 3600, 4480, -1440, 4480)

[node name="Meteoritos" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level"]
position = Vector2(-554, -339)

[node name="Meteoroide" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos"]
position = Vector2(416, -1033)

[node name="StaticBody2D" type="StaticBody2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos/Meteoroide"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos/Meteoroide/StaticBody2D"]
polygon = PackedVector2Array(-594, 128, -276, 93, -132, -64, -375, -516, -193, -897, 335, -879, 597, -620, 674, -270, 1123, -46, 1256, -171, 1192, -273, 922, -329, 799, -453, 912, -750, 1101, -855, 1262, -1028, 1817, -988, 2092, -601, 2199, 61, 2437, 122, 2447, -1210, -607, -1140)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos/Meteoroide/StaticBody2D"]
polygon = PackedVector2Array(132, -49, -94, -412, 169, -496, 384, -274, 455, -49, 660, 99, 1252, 150, 1558, -129, 1491, -368, 1592, -556, 1438, -657, 1340, -730, 1513, -803, 1706, -711, 1921, -345, 1925, 89, 1309, 274, 811, 284, 324, 160)

[node name="Meteoroide" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos/Meteoroide" instance=ExtResource("11_i2vqs")]
position = Vector2(1181, -556)
scale = Vector2(2.595, 2.595)

[node name="Meteoro" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos"]
position = Vector2(1606, 892)
rotation = -0.788223

[node name="StaticBody2D" type="StaticBody2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos/Meteoro"]

[node name="CollisionObject" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1595.82, 1046.08)
rotation = 0.788223

[node name="CollisionObject2" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1380.1, 1064.56)
rotation = 0.788223

[node name="CollisionObject3" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1267.94, 1219.81)
rotation = 0.788223

[node name="CollisionObject4" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1308.98, 1458.22)
rotation = 0.788223

[node name="CollisionObject5" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1766.74, 1117.28)
rotation = 0.788223

[node name="elPrincipito" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos/Meteoro"]
position = Vector2(1679.42, 1490.38)

[node name="Sprite2D" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos/Meteoro/elPrincipito"]
scale = Vector2(0.314928, 0.314928)
texture = ExtResource("10_s0cgv")

[node name="RotateArround" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos/Meteoro" node_paths=PackedStringArray("CenterObject")]
position = Vector2(1680.12, 1492.51)
script = ExtResource("11_712vn")
radius = 280.0
speed = 0.3
CenterObject = NodePath("../elPrincipito")

[node name="meteoro" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos/Meteoro/RotateArround" instance=ExtResource("11_i2vqs")]
scale = Vector2(2.595, 2.595)
_texture = ExtResource("14_gaug6")

[node name="Meteorito" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos"]
position = Vector2(-108, 4355)

[node name="Sprite2D" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/Meteoritos/Meteorito"]
modulate = Color(1, 0.419608, 1, 1)
position = Vector2(-1403, 1462)
scale = Vector2(4.064, 4.064)
texture = ExtResource("10_s0cgv")

[node name="StaticBody2D" type="StaticBody2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level"]
position = Vector2(2069, 2205)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/StaticBody2D"]
position = Vector2(-8083, -3713)
scale = Vector2(2.78085, 1.77895)
polygon = PackedVector2Array(1644.1, -576.745, 1643.74, 3371.65, 3468.72, 3376.71, 3462.97, -603.165, 1643.02, -592.484, 3539.21, -740.886, 3662.91, 3620.11, 1582.61, 3563.34)

[node name="RigidBody2D7" type="RigidBody2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level"]
visible = false
position = Vector2(1292.35, 1030.33)
rotation = 0.893186
disable_mode = 2
mass = 200.0
gravity_scale = 0.0
can_sleep = false
freeze = true
metadata/_edit_group_ = true

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RigidBody2D7"]
shape = SubResource("CircleShape2D_2javv")

[node name="Sprite2D" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RigidBody2D7/CollisionShape2D4"]
self_modulate = Color(0.313726, 0.345098, 0.384314, 1)
texture = ExtResource("9_88pnb")

[node name="NaveController" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1" node_paths=PackedStringArray("minDistance", "maxDistance", "player")]
position = Vector2(368, 642)
script = ExtResource("7_acnt4")
minDistance = NodePath("AnchorMin")
maxDistance = NodePath("AnchorMax")
player = NodePath("../Astronauta")

[node name="CanvasModulate" type="CanvasModulate" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController"]
position = Vector2(-368, -642)

[node name="interior" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController"]
material = SubResource("CanvasItemMaterial_flhw3")
texture = ExtResource("8_w48x6")

[node name="StaticBody2D" type="StaticBody2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/interior"]

[node name="Polygon2D" type="CollisionPolygon2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/interior/StaticBody2D"]
polygon = PackedVector2Array(-115, -324, -193, -207, -268, 138, -265, 391, 273, 385, 216, -78, 131, -330, 180, -328, 261, -50, 298, 295, 298, 401, 203, 425, -253, 422, -302, 407, -298, 34, -221, -213, -148, -336)

[node name="exterior" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController"]
self_modulate = Color(1, 1, 1, 0)
z_index = 1
texture = ExtResource("9_7dd1c")

[node name="AnchorMin" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController"]
position = Vector2(14, -352)

[node name="AnchorMax" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController"]
position = Vector2(14, -440)

[node name="Capsula" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController"]
position = Vector2(185, -324)
script = ExtResource("10_fm36a")

[node name="Collider" type="StaticBody2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/Capsula"]
position = Vector2(-168, 28)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/Capsula/Collider"]
polygon = PackedVector2Array(-168, -31, -10, -167, 107, -115, 165, -28)
one_way_collision = true

[node name="TriggerOutside" type="Area2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/Capsula"]
position = Vector2(-176, -273)
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/Capsula/TriggerOutside"]
position = Vector2(14, 36)
shape = SubResource("RectangleShape2D_48pma")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/Capsula/TriggerOutside"]
position = Vector2(155, 50)
rotation = 0.675708
shape = SubResource("RectangleShape2D_48pma")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/Capsula/TriggerOutside"]
position = Vector2(-203, 86)
rotation = -0.982402
shape = SubResource("RectangleShape2D_48pma")

[node name="Sprite2D" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/Capsula"]
position = Vector2(15, 46)
rotation = 2.51327
scale = Vector2(1.29333, 1.29333)
texture = ExtResource("11_fl6hj")
offset = Vector2(-140.155, -77.71)

[node name="Astronauta" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1" instance=ExtResource("7_jv4gs")]
material = SubResource("CanvasItemMaterial_h2n3c")

[node name="Camera2D" type="Camera2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1" node_paths=PackedStringArray("FondoReference", "phantom", "player")]
visible = false
position = Vector2(363, 639)
enabled = false
script = ExtResource("8_dafos")
FondoReference = NodePath("../level/FondoReference")
phantom = NodePath("../PhantomCamera2D")
player = NodePath("../Astronauta")

[node name="PhantomCameraHost" type="Node" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/Camera2D"]
script = ExtResource("8_eyv1l")

[node name="PhantomCamera2D" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1"]
position = Vector2(363, 639)
script = ExtResource("10_ex8uo")
CamOffsetH = 400.0
CamOffsetY = 500.0
priority_override = false
priority = 0
zoom = Vector2(1, 1)
follow_mode = 2
follow_target = NodePath("../Astronauta")
follow_parameters/target_offset = Vector2(0, 0)
follow_parameters/damping = true
follow_parameters/damping_value = 4.376
frame_preview = true
pixel_perfect = true
limit/draw_limits = true
limit/left = -10000000
limit/top = -10000000
limit/right = 10000000
limit/bottom = 10000000
limit/limit_node_target = NodePath("")
limit/smoothed = false
tween_parameters = null
tween_on_load = true
inactive_update_mode = 0

[node name="Label" type="Label" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1"]
visible = false
layout_mode = 0
offset_right = 598.0
offset_bottom = 177.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
text = "Instancia 1"

[node name="Button" type="Button" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1" node_paths=PackedStringArray("state_to_change", "state_machine")]
visible = false
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -161.0
offset_top = -165.0
offset_right = 161.0
offset_bottom = -52.0
grow_horizontal = 2
grow_vertical = 0
text = "Complete"
script = ExtResource("4_1n0vc")
state_to_change = NodePath("../../../../Moraleja")
state_machine = NodePath("../../../..")
isEndOfGame = true

[node name="Screenshot1" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido"]
self_modulate = Color(1, 1, 1, 0.517647)
position = Vector2(-4736, 969)
scale = Vector2(6.58315, 6.58315)
texture = ExtResource("20_5amnt")

[node name="Theguy" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido"]
position = Vector2(1455, 651)
rotation = -1.62784
scale = Vector2(2.13559, 2.13559)
texture = ExtResource("23_p54qi")

[node name="HUD" type="CanvasLayer" parent="Astronauta/StateMachine/Juego"]
visible = false

[node name="ButtonChangeScene" parent="Astronauta/StateMachine/Juego/HUD" instance=ExtResource("7_xf3bk")]
anchors_preset = 1
anchor_left = 1.0
anchor_top = 0.0
anchor_right = 1.0
anchor_bottom = 0.0
offset_left = -106.0
offset_top = 21.0
offset_right = -16.0
offset_bottom = 111.0
grow_horizontal = 0
grow_vertical = 1
theme = ExtResource("21_7epdq")
text = "
"
NextScene = "Map_Screen"

[node name="Moraleja" type="Node" parent="Astronauta/StateMachine"]
script = ExtResource("6_yvrem")
Moralejas = [null, "Y esto es una moraleja"]
Instancias = [NodePath("Contenido/Instancia1")]
buttons = [NodePath("Contenido/Instancia1/Button")]

[node name="Contenido" type="Control" parent="Astronauta/StateMachine/Moraleja"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Conteiner" type="Control" parent="Astronauta/StateMachine/Moraleja/Contenido"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
grow_horizontal = 2
grow_vertical = 2

[node name="LblMoraleja" type="Label" parent="Astronauta/StateMachine/Moraleja/Contenido/Conteiner"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -270.0
offset_top = -444.0
offset_right = 294.0
offset_bottom = 445.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 40
text = "Consigna genérica Consigna genérica Consigna genérica"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="Timer" type="Timer" parent="Astronauta/StateMachine/Moraleja/Contenido"]
wait_time = 3.0
one_shot = true

[node name="ButtonChangeScene" parent="Astronauta/StateMachine/Moraleja/Contenido" instance=ExtResource("7_xf3bk")]
visible = false
layout_mode = 1
offset_left = -197.0
offset_top = -201.0
offset_right = 207.0
offset_bottom = -66.0
text = "Continue"
NextScene = "Map_Screen"

[node name="Instancia1" type="Control" parent="Astronauta/StateMachine/Moraleja/Contenido"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Button" type="Button" parent="Astronauta/StateMachine/Moraleja/Contenido/Instancia1" node_paths=PackedStringArray("state_to_change", "state_machine")]
visible = false
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -201.0
offset_top = -197.0
offset_right = 202.0
offset_bottom = -67.0
grow_horizontal = 2
grow_vertical = 0
text = "que?
"
script = ExtResource("4_1n0vc")
state_to_change = NodePath("../../../../Juego")
state_machine = NodePath("../../../..")

[node name="Fin" type="Node" parent="Astronauta/StateMachine"]
script = ExtResource("8_82fk8")

[node name="Contenido" type="Control" parent="Astronauta/StateMachine/Fin"]
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ButtonChangeScene" parent="Astronauta/StateMachine/Fin/Contenido" instance=ExtResource("7_xf3bk")]
layout_mode = 1
offset_left = -197.0
offset_top = -186.0
offset_right = 207.0
offset_bottom = -51.0
text = "Continue"
NextScene = "Map_Screen"

[connection signal="pressed" from="Astronauta/StateMachine/Consigna/Contenido/Button" to="Astronauta/StateMachine/Consigna/Contenido/Button" method="_on_pressed" flags=18]
[connection signal="Transitioned" from="Astronauta/StateMachine/Juego" to="Astronauta/StateMachine/Juego/Contenido/Instancia1/Camera2D" method="Enable" binds= [true]]
[connection signal="EndOfGame" from="Astronauta/StateMachine/Juego/Contenido/Instancia1/Button" to="Astronauta" method="Set_Complete" flags=18]
[connection signal="EndOfGame" from="Astronauta/StateMachine/Juego/Contenido/Instancia1/Button" to="Astronauta/StateMachine/Moraleja" method="isEndOfGame" flags=18]
[connection signal="pressed" from="Astronauta/StateMachine/Juego/Contenido/Instancia1/Button" to="Astronauta/StateMachine/Juego/Contenido/Instancia1/Button" method="_on_pressed" flags=18]
[connection signal="timeout" from="Astronauta/StateMachine/Moraleja/Contenido/Timer" to="Astronauta/StateMachine/Moraleja" method="TimeOut" flags=18]
[connection signal="pressed" from="Astronauta/StateMachine/Moraleja/Contenido/Instancia1/Button" to="Astronauta/StateMachine/Moraleja/Contenido/Instancia1/Button" method="_on_pressed" flags=18]
