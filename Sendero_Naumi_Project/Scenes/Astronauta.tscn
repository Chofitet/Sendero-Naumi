[gd_scene load_steps=32 format=3 uid="uid://dk066mi38cvh7"]

[ext_resource type="Script" path="res://_Scripts/Minigame_Save_Controller.gd" id="1_th4gl"]
[ext_resource type="Script" path="res://_Scripts/StateMachineMinigames/StateMachineMinigames.gd" id="2_fl1ab"]
[ext_resource type="Script" path="res://_Scripts/StateMachineMinigames/ConsignaState.gd" id="3_3a6v3"]
[ext_resource type="Script" path="res://_Scripts/StateMachineMinigames/Button_Change_StateMinigame.gd" id="4_1n0vc"]
[ext_resource type="Script" path="res://_Scripts/StateMachineMinigames/JuegoState.gd" id="5_wjedw"]
[ext_resource type="Texture2D" uid="uid://nuybqhitpej1" path="res://Sprites/Mapa/fondo_mapa.png" id="6_iavf7"]
[ext_resource type="Script" path="res://_Scripts/StateMachineMinigames/MoralejaState.gd" id="6_yvrem"]
[ext_resource type="Script" path="res://_Scripts/MinG_Astronauta/NaveController.gd" id="7_acnt4"]
[ext_resource type="PackedScene" uid="uid://dtbscg5vj1osr" path="res://Scenes/Zona_Astronomia/astronautaController.tscn" id="7_jv4gs"]
[ext_resource type="PackedScene" uid="uid://djhg7jvxtexyl" path="res://Scenes/UI_Scenes/btn_Change_Scene.tscn" id="7_xf3bk"]
[ext_resource type="Script" path="res://_Scripts/StateMachineMinigames/FinState.gd" id="8_82fk8"]
[ext_resource type="Script" path="res://_Scripts/MinG_Astronauta/CamControllerAstronauta.gd" id="8_dafos"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="8_eyv1l"]
[ext_resource type="Texture2D" uid="uid://bs61ipoo6jueu" path="res://Sprites/ZonaAstronomia/NaveInterior.png" id="8_w48x6"]
[ext_resource type="Texture2D" uid="uid://puccpmbqwi4c" path="res://Sprites/ZonaAstronomia/NaveExterior.png" id="9_7dd1c"]
[ext_resource type="Texture2D" uid="uid://drrio0noaq2fi" path="res://Sprites/ZonaGeología/piedra-PhotoRoom.png-PhotoRoom.png" id="9_88pnb"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_2D.gd" id="10_ex8uo"]
[ext_resource type="Script" path="res://_Scripts/CapsulaController.gd" id="10_fm36a"]
[ext_resource type="Texture2D" uid="uid://chqivoetkgkoj" path="res://Sprites/UI/circulo.png" id="10_s0cgv"]
[ext_resource type="Script" path="res://_Scripts/MinG_Astronauta/RotateArround.gd" id="11_712vn"]
[ext_resource type="Texture2D" uid="uid://do80na5f1l4ly" path="res://Sprites/ZonaAstronomia/capsula.png" id="11_fl6hj"]
[ext_resource type="PackedScene" uid="uid://dsjra6y4xe8g7" path="res://Scenes/Experiments/pick_up_object.tscn" id="11_i2vqs"]
[ext_resource type="PackedScene" uid="uid://bhvn7rj6jhh2" path="res://Scenes/Zona_Astronomia/collision_object.tscn" id="11_nklpy"]
[ext_resource type="Texture2D" uid="uid://b7poe0ethot51" path="res://Sprites/ZonaGeología/Piedras/flurita_dureza.png" id="14_gaug6"]
[ext_resource type="Texture2D" uid="uid://bjdjhfvi3gkdk" path="res://Sprites/ZonaAstronomia/Screenshot_1.png" id="20_5amnt"]
[ext_resource type="Theme" uid="uid://bokxu7jbpku04" path="res://Themes/Back_UI.tres" id="21_7epdq"]
[ext_resource type="Texture2D" uid="uid://b2op8eppn0juv" path="res://Sprites/ZonaAstronomia/Astronauta.png" id="23_p54qi"]

[sub_resource type="CircleShape2D" id="CircleShape2D_2javv"]
radius = 209.476

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_flhw3"]
light_mode = 1

[sub_resource type="RectangleShape2D" id="RectangleShape2D_48pma"]
size = Vector2(544, 20)

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_h2n3c"]
light_mode = 1

[node name="Astronauta" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Astronauta" type="Node" parent="."]
script = ExtResource("1_th4gl")

[node name="Control" type="Control" parent="Astronauta"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Background" type="ColorRect" parent="Astronauta/Control"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.72549, 1, 1, 1)

[node name="StateMachine" type="Node" parent="Astronauta" node_paths=PackedStringArray("initial_state")]
script = ExtResource("2_fl1ab")
initial_state = NodePath("Consigna")

[node name="Consigna" type="Node" parent="Astronauta/StateMachine"]
script = ExtResource("3_3a6v3")
Consignas = ["Volá por el espacio wiiiiiiiiiiiii"]

[node name="Contenido" type="Control" parent="Astronauta/StateMachine/Consigna"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="LblConsigna" type="Label" parent="Astronauta/StateMachine/Consigna/Contenido"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -270.0
offset_top = -444.0
offset_right = 294.0
offset_bottom = 445.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 40
text = "Consigna genérica Consigna genérica Consigna genérica"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="Button" type="Button" parent="Astronauta/StateMachine/Consigna/Contenido" node_paths=PackedStringArray("state_to_change", "state_machine")]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -201.0
offset_top = -197.0
offset_right = 202.0
offset_bottom = -67.0
grow_horizontal = 2
grow_vertical = 0
text = "Siguiente
"
script = ExtResource("4_1n0vc")
state_to_change = NodePath("../../../Juego")
state_machine = NodePath("../../..")

[node name="Juego" type="Node" parent="Astronauta/StateMachine" node_paths=PackedStringArray("NextState", "StateMachine")]
script = ExtResource("5_wjedw")
NextState = NodePath(".")
StateMachine = NodePath("..")
InstanciasMinijuego = [NodePath("Contenido/Instancia1")]

[node name="Contenido" type="Control" parent="Astronauta/StateMachine/Juego"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Instancia1" type="Control" parent="Astronauta/StateMachine/Juego/Contenido"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="level" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1"]

[node name="TextureRect" type="TextureRect" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level"]
offset_left = -8134.0
offset_top = -3144.0
offset_right = 5554.0
offset_bottom = 8580.0
size_flags_horizontal = 4
texture = ExtResource("6_iavf7")
stretch_mode = 1

[node name="FondoReference" type="Polygon2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level"]
position = Vector2(-132, -178)
color = Color(1, 1, 1, 0)
polygon = PackedVector2Array(-1440, -2560, 3600, -2560, 3600, 4480, -1440, 4480)

[node name="RocasEspaciales" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level"]
position = Vector2(-554, -339)

[node name="Meteoroide" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales"]
position = Vector2(416, -1033)

[node name="StaticBody2D" type="StaticBody2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoroide"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoroide/StaticBody2D"]
position = Vector2(423.498, 844.3)
scale = Vector2(1.33441, 1)
polygon = PackedVector2Array(-1291.87, 601, -687.11, 404, -502.009, 220, -482.525, 4, -556.8, -173, -781.619, -309, -953.603, -537.3, -1004.56, -881.3, -851.686, -1361.3, -425.656, -1425, -182.103, -1271, -111.66, -787, -50.2095, -637, 50.2095, -512, 176.857, -507, 468.748, -750.3, 687.571, -728.3, 837.074, -590, 823.961, -240.3, 689.07, -67.2998, 708.555, 55.7002, 872.672, 109.7, 985.831, -40.2998, 893.655, -250.3, 931.125, -657.3, 644.48, -887, 417.413, -897, 385.938, -809, 212.079, -652, 47.9613, -697, -59.2022, -811, -106.414, -1021, -75.6889, -1293, 83.1828, -1393, 152.127, -1405, 293.013, -1903, 560.924, -2081.3, 816.091, -1956, 981.707, -1548, 1534.39, -1297.3, 1570.36, -869.3, 1890.29, -598.913, 1900.84, -68.2998, 2233.57, 530.7, 2572.01, 157, 2634.12, -3311, -1386.38, -3330)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoroide/StaticBody2D"]
position = Vector2(183.498, 871.3)
polygon = PackedVector2Array(-119, -121, -271, -472, -444, -551, -636, -667, -728.498, -877.3, -584.498, -1042.3, -334.498, -1025.3, -180.498, -737.3, -107, -531, 30.5022, -283.3, 237.502, -184.3, 512.502, -217.3, 942.502, -496.3, 1122.5, -486.3, 1093.5, -369.3, 884.502, -154.3, 884.502, 41.7002, 1008.5, 263.7, 1517.5, 337.7, 1826.5, 117.7, 1862.5, -103.3, 1662.5, -368.3, 1707, -845, 1122, -1199, 817, -1154, 778, -1322, 691.502, -1392.3, 909, -1701, 1138.5, -1658.3, 1288.5, -1372.3, 1514, -1245, 1907.5, -1092.3, 1991.5, -752.3, 2491.5, -448.3, 2463.5, -80.2998, 2740, 515, 2145, 676, 1399.83, 489.43, 803, 340, 195, 159)

[node name="CollisionPolygon2D5" type="CollisionPolygon2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoroide/StaticBody2D"]
position = Vector2(6898.5, 649.3)
scale = Vector2(1.33441, 1)
polygon = PackedVector2Array(-1291.87, 601, -687.11, 404, -502.009, 220, -482.525, 4, -556.8, -173, -781.619, -309, -953.603, -537.3, -1004.56, -881.3, -851.686, -1361.3, -425.656, -1425, -182.103, -1271, -111.66, -787, -50.2095, -637, 50.2095, -512, 176.857, -507, 468.748, -750.3, 687.571, -728.3, 837.074, -590, 884.286, -120, 948.734, -46, 929.25, -700, 644.48, -887, 417.413, -897, 385.938, -809, 212.079, -652, 47.9613, -697, -59.2022, -811, -106.414, -1021, -75.6889, -1293, 83.1828, -1393, 152.127, -1405, 293.013, -1903, 560.924, -2081.3, 816.091, -1956, 981.707, -1548, 1534.39, -1297.3, 1570.36, -869.3, 1890.29, -598.913, 1900.84, -68.2998, 2233.57, 530.7, 2572.01, 157, 2634.12, -3311, -1386.38, -3330)

[node name="CollisionPolygon2D6" type="CollisionPolygon2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoroide/StaticBody2D"]
position = Vector2(6658.5, 676.3)
polygon = PackedVector2Array(-119, -121, -271, -472, -444, -551, -636, -667, -696, -871, -518, -1020, -303.498, -972.3, -180.498, -737.3, -107, -531, 30.5022, -283.3, 237.502, -184.3, 512.502, -217.3, 942.502, -496.3, 1132.5, -458.3, 1154, -78, 1256, 157, 1425, 248, 1672, 206, 1807, -178, 1786, -513, 1707, -845, 1122, -1199, 817, -1154, 778, -1322, 691.502, -1392.3, 909, -1701, 1138.5, -1658.3, 1288.5, -1372.3, 1514, -1245, 1907.5, -1092.3, 1991.5, -752.3, 2491.5, -448.3, 2463.5, -80.2998, 2740, 515, 2145, 676, 1399.83, 489.43, 803, 340, 195, 159)

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoroide/StaticBody2D"]
position = Vector2(-5325.5, 376.3)
scale = Vector2(1.33441, 1)
polygon = PackedVector2Array(-1291.87, 601, -687.11, 404, -502.009, 220, -482.525, 4, -556.8, -173, -781.619, -309, -963.722, -549, -1043.82, -897, -896.276, -1387, -425.656, -1425, -182.103, -1271, -111.66, -787, -50.2095, -637, 50.2095, -512, 176.857, -507, 431.651, -721, 726.164, -687, 837.074, -590, 980.958, -277, 1153.32, -166, 1323.43, -212, 1381.13, -454, 1294.2, -624, 1160.06, -672, 929.25, -700, 644.48, -887, 423.408, -867, 316.994, -745, 176.108, -656, 47.9613, -697, -59.2022, -811, -99.6695, -992, -104.915, -1182, -14.9879, -1483, 146.881, -1564, 293.013, -1903, 568.041, -2081, 816.091, -1956, 981.707, -1548, 1273.97, -1460, 1966.41, -1565, 2248.93, -1332, 2343.36, -788, 2329.12, -216, 2572.01, 157, 2634.12, -3311, -1386.38, -3330)

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoroide/StaticBody2D"]
position = Vector2(-5565.5, 403.3)
polygon = PackedVector2Array(-119, -121, -271, -472, -444, -551, -636, -667, -696, -871, -518, -1020, -324, -921, -175, -690, -107, -531, 17, -345, 196, -188, 408, -171, 896, -395, 1129, -341, 1237, -201, 1380, -35, 1670, 117, 2028, 142, 2269, 36, 2477, -196, 2455, -677, 2280, -892, 1848, -1051, 1442, -1039, 1122, -1199, 866, -1117, 850, -1369, 716, -1536, 924, -1680, 1154, -1620, 1318, -1364, 1514, -1245, 2662, -1108, 2870, -847, 2854, -198, 2631.15, 122.389, 1309, 274, 811, 284, 195, 159)

[node name="Meteoroide" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoroide" instance=ExtResource("11_i2vqs")]
position = Vector2(648.498, -184.7)
scale = Vector2(2.595, 2.595)

[node name="Meteoro" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales"]
position = Vector2(1606, 892)
rotation = -0.788223

[node name="StaticBody2D" type="StaticBody2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro"]

[node name="CollisionObject" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1595.82, 1046.08)
rotation = 0.788223

[node name="CollisionObject2" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1382.19, 1073.76)
rotation = 0.788223

[node name="CollisionObject6" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1264.58, 905.844)
rotation = 0.788223

[node name="CollisionObject7" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1200.46, 1076.78)
rotation = 0.788223

[node name="CollisionObject8" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1441.43, 879.473)
rotation = 0.788223

[node name="CollisionObject3" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1267.94, 1219.81)
rotation = 0.788223

[node name="CollisionObject9" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1090.58, 1424.37)
rotation = 0.282535

[node name="CollisionObject10" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(972.969, 1256.45)
rotation = 0.282535

[node name="CollisionObject11" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(908.846, 1427.39)
rotation = 0.282535

[node name="CollisionObject12" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1149.82, 1230.08)
rotation = 0.282535

[node name="CollisionObject13" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(976.328, 1570.42)
rotation = 0.282535

[node name="CollisionObject14" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1102.55, 942.864)
rotation = 0.282535

[node name="CollisionObject15" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(984.936, 774.946)
rotation = 0.282535

[node name="CollisionObject16" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(920.813, 945.886)
rotation = 0.282535

[node name="CollisionObject17" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1161.79, 748.575)
rotation = 0.282535

[node name="CollisionObject18" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(988.294, 1088.91)
rotation = 0.282535

[node name="CollisionObject4" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1308.98, 1458.22)
rotation = 0.788223

[node name="CollisionObject5" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" instance=ExtResource("11_nklpy")]
position = Vector2(1766.74, 1117.28)
rotation = 0.788223

[node name="elPrincipito" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro"]
position = Vector2(1679.42, 1490.38)

[node name="Sprite2D" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro/elPrincipito"]
scale = Vector2(0.314928, 0.314928)
texture = ExtResource("10_s0cgv")

[node name="RotateArround" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro" node_paths=PackedStringArray("CenterObject")]
position = Vector2(1680.12, 1492.51)
script = ExtResource("11_712vn")
radius = 280.0
speed = 0.3
CenterObject = NodePath("../elPrincipito")

[node name="meteoro" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteoro/RotateArround" instance=ExtResource("11_i2vqs")]
scale = Vector2(2.595, 2.595)
_texture = ExtResource("14_gaug6")

[node name="Meteorito" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales"]
position = Vector2(-108, 4355)

[node name="Sprite2D" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RocasEspaciales/Meteorito"]
modulate = Color(1, 0.419608, 1, 1)
position = Vector2(-1403, 1462)
scale = Vector2(4.064, 4.064)
texture = ExtResource("10_s0cgv")

[node name="StaticBody2D" type="StaticBody2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level"]
position = Vector2(2069, 2205)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/StaticBody2D"]
position = Vector2(-8083, -3713)
scale = Vector2(2.78085, 1.77895)
polygon = PackedVector2Array(1644.1, -576.745, 1643.74, 3371.65, 3468.72, 3376.71, 3462.97, -603.165, 2514.5, -597.599, 2480.69, -597.4, 1643.02, -592.484, 3539.21, -740.886, 3662.91, 3620.11, 1582.61, 3563.34)

[node name="RigidBody2D7" type="RigidBody2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level"]
position = Vector2(-795, 2548)
rotation = 0.893186
disable_mode = 2
mass = 200.0
gravity_scale = 0.0
can_sleep = false
freeze = true
metadata/_edit_group_ = true

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RigidBody2D7"]
shape = SubResource("CircleShape2D_2javv")

[node name="Sprite2D" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RigidBody2D7/CollisionShape2D4"]
self_modulate = Color(0.313726, 0.345098, 0.384314, 1)
texture = ExtResource("9_88pnb")

[node name="RigidBody2D8" type="RigidBody2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level"]
position = Vector2(-795, 2548)
rotation = 0.893186
disable_mode = 2
mass = 200.0
gravity_scale = 0.0
can_sleep = false
freeze = true
metadata/_edit_group_ = true

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RigidBody2D8"]
shape = SubResource("CircleShape2D_2javv")

[node name="Sprite2D" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/level/RigidBody2D8/CollisionShape2D4"]
self_modulate = Color(0.313726, 0.345098, 0.384314, 1)
texture = ExtResource("9_88pnb")

[node name="NaveController" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1" node_paths=PackedStringArray("minDistance", "maxDistance", "player")]
position = Vector2(368, 642)
script = ExtResource("7_acnt4")
minDistance = NodePath("AnchorMin")
maxDistance = NodePath("AnchorMax")
player = NodePath("../Astronauta")

[node name="CanvasModulate" type="CanvasModulate" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController"]
position = Vector2(-368, -642)

[node name="interior" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController"]
material = SubResource("CanvasItemMaterial_flhw3")
texture = ExtResource("8_w48x6")

[node name="StaticBody2D" type="StaticBody2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/interior"]

[node name="Polygon2D" type="CollisionPolygon2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/interior/StaticBody2D"]
polygon = PackedVector2Array(-115, -324, -193, -207, -268, 138, -265, 391, 273, 385, 216, -78, 131, -330, 180, -328, 261, -50, 298, 295, 298, 401, 203, 425, -253, 422, -302, 407, -298, 34, -221, -213, -148, -336)

[node name="exterior" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController"]
self_modulate = Color(1, 1, 1, 0)
z_index = 1
texture = ExtResource("9_7dd1c")

[node name="AnchorMin" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController"]
position = Vector2(14, -352)

[node name="AnchorMax" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController"]
position = Vector2(14, -440)

[node name="Capsula" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController"]
position = Vector2(185, -324)
script = ExtResource("10_fm36a")

[node name="Collider" type="StaticBody2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/Capsula"]
position = Vector2(-168, 28)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/Capsula/Collider"]
polygon = PackedVector2Array(-168, -31, -10, -167, 107, -115, 165, -28)
one_way_collision = true

[node name="TriggerOutside" type="Area2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/Capsula"]
position = Vector2(-176, -273)
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/Capsula/TriggerOutside"]
position = Vector2(14, 36)
shape = SubResource("RectangleShape2D_48pma")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/Capsula/TriggerOutside"]
position = Vector2(155, 50)
rotation = 0.675708
shape = SubResource("RectangleShape2D_48pma")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/Capsula/TriggerOutside"]
position = Vector2(-203, 86)
rotation = -0.982402
shape = SubResource("RectangleShape2D_48pma")

[node name="Sprite2D" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/NaveController/Capsula"]
position = Vector2(15, 46)
rotation = 2.51327
scale = Vector2(1.29333, 1.29333)
texture = ExtResource("11_fl6hj")
offset = Vector2(-140.155, -77.71)

[node name="Astronauta" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1" instance=ExtResource("7_jv4gs")]
material = SubResource("CanvasItemMaterial_h2n3c")

[node name="Camera2D" type="Camera2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1" node_paths=PackedStringArray("FondoReference", "phantom", "player")]
visible = false
position = Vector2(363, 639)
enabled = false
script = ExtResource("8_dafos")
FondoReference = NodePath("../level/FondoReference")
phantom = NodePath("../PhantomCamera2D")
player = NodePath("../Astronauta")

[node name="PhantomCameraHost" type="Node" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1/Camera2D"]
script = ExtResource("8_eyv1l")

[node name="PhantomCamera2D" type="Node2D" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1"]
position = Vector2(363, 639)
script = ExtResource("10_ex8uo")
CamOffsetH = 400.0
CamOffsetY = 500.0
priority_override = false
priority = 0
zoom = Vector2(1, 1)
follow_mode = 2
follow_target = NodePath("../Astronauta")
follow_parameters/target_offset = Vector2(0, 0)
follow_parameters/damping = true
follow_parameters/damping_value = 4.376
frame_preview = true
pixel_perfect = true
limit/draw_limits = true
limit/left = -10000000
limit/top = -10000000
limit/right = 10000000
limit/bottom = 10000000
limit/limit_node_target = NodePath("")
limit/smoothed = false
tween_parameters = null
tween_on_load = true
inactive_update_mode = 0

[node name="Label" type="Label" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1"]
visible = false
layout_mode = 0
offset_right = 598.0
offset_bottom = 177.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
text = "Instancia 1"

[node name="Button" type="Button" parent="Astronauta/StateMachine/Juego/Contenido/Instancia1" node_paths=PackedStringArray("state_to_change", "state_machine")]
visible = false
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -161.0
offset_top = -165.0
offset_right = 161.0
offset_bottom = -52.0
grow_horizontal = 2
grow_vertical = 0
text = "Complete"
script = ExtResource("4_1n0vc")
state_to_change = NodePath("../../../../Moraleja")
state_machine = NodePath("../../../..")
isEndOfGame = true

[node name="Screenshot1" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido"]
self_modulate = Color(1, 1, 1, 0.517647)
position = Vector2(-4736, 969)
scale = Vector2(6.58315, 6.58315)
texture = ExtResource("20_5amnt")

[node name="Theguy" type="Sprite2D" parent="Astronauta/StateMachine/Juego/Contenido"]
position = Vector2(342, -1528)
rotation = -1.62784
scale = Vector2(2.13559, 2.13559)
texture = ExtResource("23_p54qi")

[node name="HUD" type="CanvasLayer" parent="Astronauta/StateMachine/Juego"]
visible = false

[node name="ButtonChangeScene" parent="Astronauta/StateMachine/Juego/HUD" instance=ExtResource("7_xf3bk")]
anchors_preset = 1
anchor_left = 1.0
anchor_top = 0.0
anchor_right = 1.0
anchor_bottom = 0.0
offset_left = -106.0
offset_top = 21.0
offset_right = -16.0
offset_bottom = 111.0
grow_horizontal = 0
grow_vertical = 1
theme = ExtResource("21_7epdq")
text = "
"
NextScene = "Map_Screen"

[node name="Moraleja" type="Node" parent="Astronauta/StateMachine"]
script = ExtResource("6_yvrem")
Moralejas = [null, "Y esto es una moraleja"]
Instancias = [NodePath("Contenido/Instancia1")]
buttons = [NodePath("Contenido/Instancia1/Button")]

[node name="Contenido" type="Control" parent="Astronauta/StateMachine/Moraleja"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Conteiner" type="Control" parent="Astronauta/StateMachine/Moraleja/Contenido"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
grow_horizontal = 2
grow_vertical = 2

[node name="LblMoraleja" type="Label" parent="Astronauta/StateMachine/Moraleja/Contenido/Conteiner"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -270.0
offset_top = -444.0
offset_right = 294.0
offset_bottom = 445.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 40
text = "Consigna genérica Consigna genérica Consigna genérica"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="Timer" type="Timer" parent="Astronauta/StateMachine/Moraleja/Contenido"]
wait_time = 3.0
one_shot = true

[node name="ButtonChangeScene" parent="Astronauta/StateMachine/Moraleja/Contenido" instance=ExtResource("7_xf3bk")]
visible = false
layout_mode = 1
offset_left = -197.0
offset_top = -201.0
offset_right = 207.0
offset_bottom = -66.0
text = "Continue"
NextScene = "Map_Screen"

[node name="Instancia1" type="Control" parent="Astronauta/StateMachine/Moraleja/Contenido"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Button" type="Button" parent="Astronauta/StateMachine/Moraleja/Contenido/Instancia1" node_paths=PackedStringArray("state_to_change", "state_machine")]
visible = false
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -201.0
offset_top = -197.0
offset_right = 202.0
offset_bottom = -67.0
grow_horizontal = 2
grow_vertical = 0
text = "que?
"
script = ExtResource("4_1n0vc")
state_to_change = NodePath("../../../../Juego")
state_machine = NodePath("../../../..")

[node name="Fin" type="Node" parent="Astronauta/StateMachine"]
script = ExtResource("8_82fk8")

[node name="Contenido" type="Control" parent="Astronauta/StateMachine/Fin"]
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ButtonChangeScene" parent="Astronauta/StateMachine/Fin/Contenido" instance=ExtResource("7_xf3bk")]
layout_mode = 1
offset_left = -197.0
offset_top = -186.0
offset_right = 207.0
offset_bottom = -51.0
text = "Continue"
NextScene = "Map_Screen"

[connection signal="pressed" from="Astronauta/StateMachine/Consigna/Contenido/Button" to="Astronauta/StateMachine/Consigna/Contenido/Button" method="_on_pressed" flags=18]
[connection signal="Transitioned" from="Astronauta/StateMachine/Juego" to="Astronauta/StateMachine/Juego/Contenido/Instancia1/Camera2D" method="Enable" binds= [true]]
[connection signal="EndOfGame" from="Astronauta/StateMachine/Juego/Contenido/Instancia1/Button" to="Astronauta" method="Set_Complete" flags=18]
[connection signal="EndOfGame" from="Astronauta/StateMachine/Juego/Contenido/Instancia1/Button" to="Astronauta/StateMachine/Moraleja" method="isEndOfGame" flags=18]
[connection signal="pressed" from="Astronauta/StateMachine/Juego/Contenido/Instancia1/Button" to="Astronauta/StateMachine/Juego/Contenido/Instancia1/Button" method="_on_pressed" flags=18]
[connection signal="timeout" from="Astronauta/StateMachine/Moraleja/Contenido/Timer" to="Astronauta/StateMachine/Moraleja" method="TimeOut" flags=18]
[connection signal="pressed" from="Astronauta/StateMachine/Moraleja/Contenido/Instancia1/Button" to="Astronauta/StateMachine/Moraleja/Contenido/Instancia1/Button" method="_on_pressed" flags=18]
